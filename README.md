## Описание

Проект представляет собой примитивную файловую базу данных с простым текстовым интерфейсом.
Поддерживаются создание таблиц, вставка, выборка, обновление и удаление записей, а также обработка ошибок, подтверждение опасных действий и логирование времени выполнения операций.

## Установка

### Вариант 1: через Poetry

```
poetry install
```

### Вариант 2: через сборку wheel-пакета

```
rm -rf dist
poetry build
poetry shell
python -m pip uninstall -y project2-shitova-natalia
python -m pip install dist/*.whl
```

## Звпуск

### Вариант 1: через Poetry

```
poetry run database
```

### Вариант 2: через сборку wheel-пакета

```
database
```

## Управление таблицами

Модуль предоставляет простой интерфейс для работы с таблицами.  
Все метаданные (имена таблиц и их структура) хранятся в файле `db_meta.json`

### Доступные команды

- `create_table <имя_таблицы> <столбец1:тип> <столбец2:тип> ..` — создать таблицу с указанными столбцами.  
  Автоматически добавляется столбец `ID:int` в начало.
- `list_tables` — показать список всех таблиц.
- `drop_table <имя_таблицы>` — удалить таблицу.
- `help` — вывести справочную информацию.
- `exit` — выход из программы.

Поддерживаемые типы данных столбцов: `int`, `str`, `bool`.

### Пример использования

```text
$ python -m primitive_db

>>>Введите команду: create_table users name:str age:int is_active:bool
Таблица "users" успешно создана со столбцами: ID:int, name:str, age:int, is_active:bool

>>>Введите команду: create_table users name:str
Ошибка: Таблица "users" уже существует.

>>>Введите команду: list_tables
- users

>>>Введите команду: drop_table users
Таблица "users" успешно удалена.

>>>Введите команду: drop_table products
Ошибка: Таблица "products" не существует.

>>>Введите команду: help
***Процесс работы с таблицей***
Функции:
<command> create_table <имя_таблицы> <столбец1:тип> <столбец2:тип> .. - создать таблицу
<command> list_tables - показать список всех таблиц
<command> drop_table <имя_таблицы> - удалить таблицу
<command> exit - выход из программы
<command> help - справочная информация
```

## Демонстрация

По ссылке приведен пример установки пакета, запуска БД, создание, проверку и удаление таблицы:

https://asciinema.org/a/Ii73uqvoE4ESPt19

##CRUD-операции

Приложение поддерживает базовые операции с данными в таблицах (Create, Read, Update, Delete)

### Создание записи

```
insert into users values ("Sergei", 28, true)
```

### Чтение записей

Все записи:

```
select from users
```

Фильтр по условию:

```
select from users where age = 28
```

### Обновление записей

```
update users set age = 29 where name = "Sergei"
```

### Удаление записей

```
delete from users where ID = 1
```

### Информация о таблице

```
info users
```
## Демонстрация

По ссылке приведен пример установки пакета, запуска БД, создание, проверку и удаление таблицы, вставка, удаление обновление строк в таблице

https://asciinema.org/a/JARQL8qRyG33EOOK

## Возможности

- Примитивная работа с "базой данных" (создание, чтение, обновление, удаление записей).
- Обработка ошибок при работе с БД с помощью декоратора `handle_db_errors`:
  - перехватывает исключения нижнего уровня,
  - выводит понятное сообщение пользователю.
- Подтверждение опасных действий с помощью декоратора `confirm_action`:
  - перед выполнением операции спрашивает пользователя (`[y/n]`),
  - при ответе, отличном от `y`, операция отменяется.
- Логирование времени выполнения операций с помощью декоратора `log_time`.

## Демонстрация

По ссылке приведен пример установки пакета, запуска БД, создание, проверку и удаление таблицы, вставка, удаление обновление строк в таблице и работа декораторов

https://asciinema.org/a/lp4vp2FKruiiJQHQ


